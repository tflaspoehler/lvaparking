<!DOCTYPE html>
<html>
  <head>
    <title>Simple Markers</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style>
   .imc-map-label {
	     color: black!important;
	     background-color: transparent;
	     font-family: "Lucida Grande", "Arial", sans-serif;
	     font-size: 10px;
	     text-align: center;
	     width: auto;     
	     white-space: nowrap;
	     transform: translateY(2rem);
	     text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
	   }
	 </style>
	  </style>
  </head>
  <body>
    <div class="gmap" id="map"></div>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPCISCqptlowUQP_jwhIMaSqcr121mG74&callback=initMap&libraries=&v=weekly"
      async
    ></script>
<script>
    var markers = [];
function initMap() {
	const myLatLng = { lat: 36.17075164292743, lng: -115.15489604354863 };

	const styles = [{
	    stylers: []
	}, {
	    featureType: "road",
	    elementType: "geometry",
	    stylers: [{
	        lightness: 100
	    }, {
	        visibility: "simplified"
	    }]
	}, {
	    featureType: "road",
	    elementType: "labels",
	    stylers: [{
	        visibility: "off"
	    }]
	}];
	var styledMap = new google.maps.StyledMapType(styles, {
	    name: "AmericasMart Parking Map"
	});
	var mapOptions = {
		mapId: 'f0969269568362e9',
		zoom: 16,
		center: myLatLng,
	    scrollwheel: false,
	    mapTypeControl: true,
	    mapTypeControlOptions: {
	        style: google.maps.MapTypeControlStyle.DROPDOWN_MENU
	    },
	    mapTypeId: google.maps.MapTypeId.ROADMAP
	}


	var map = new google.maps.Map(document.getElementById('map'), mapOptions);
    map.mapTypes.set('map_style', styledMap);


	// --------------------- //
	// add building polygons //
	// --------------------- //
var buildingCoords = [
                    
    [

        {lat: 36.1722672994664, lng: -115.154445432456},
        {lat: 36.1719814921903, lng: -115.154016279051},
        {lat: 36.1734365001959, lng: -115.151934885038},
        {lat: 36.1728042678935, lng: -115.151151680074},
        {lat: 36.1709248623012, lng: -115.153866075359},
        {lat: 36.1713059435759, lng: -115.155035518387},
        {lat: 36.1717130056178, lng: -115.155400298781},
    ],
    [

        {lat: 36.1731506971841, lng: -115.151473545128},
        {lat: 36.1734624822362, lng: -115.150937103372},
        {lat: 36.1732286435634, lng: -115.150658153659},
        {lat: 36.1728648931299, lng: -115.151140951239},
    ],
    [

        {lat: 36.1711327250444, lng: -115.155979655877},
        {lat: 36.170768964882, lng: -115.155346654648},
        {lat: 36.1692619405078, lng: -115.156741403291},
        {lat: 36.1696343687674, lng: -115.157428048777},
    ],
    [

        {lat: 36.1692619405078, lng: -115.156698487948},
        {lat: 36.1703878809961, lng: -115.155647062048},
        {lat: 36.1700674226578, lng: -115.155153535605},
        {lat: 36.1689328163868, lng: -115.156162046163},
    ],
];
	// --------------------- //
		let colors = [
			"#f9a71e",
			"#f9a71e",
			"#60a64f",
			"#46a0bf",
		];
	// --------------------- //
        buildingCoords.forEach(function(coords, index) {
        	console.log("adding polygon", coords)
            var newPolygon = new google.maps.Polygon({
                          paths: coords,
                          strokeColor: '#555',
                          strokeOpacity: 0.5,
                          strokeWeight: 2,
                          fillColor: colors[index],
                          fillOpacity: 0.25
                      });
            newPolygon.setMap(map);
    });
	// --------------------- //

	// --------------------- //
  var info = null;
	var locations = [
		{
			position : new google.maps.LatLng(36.17194525715237, -115.15350448085596),
			map : map,
			title : '<p style="text-align: center;"><a title="North Parking Lot" href="http://maps.apple.com/?address=Las Vegas, NV 89106" style="color: #000;"><strong>North Parking Lot (FREE self-parking)</strong></a> <br /><br />Parking in this lot is available Moday, August 16 â€“Thursday, August 26 only. Access is off Symphony Park Ave.</p>',
	    label: {
	      text: "North Lot",
	      className: "imc-map-label"
	    }
		},
		{
			position : new google.maps.LatLng(36.17013511930272, -115.15641199542706),
			map : map,
			title : '<p style="text-align: center;"><a title="Parking Garage" href="http://maps.apple.com/?address=455 S Grand Central Pkwy, Las Vegas, NV 89106" style="color: #000;"><strong>Parking Garage (FREE self-parking)</strong></a> <br /><br />Self-parking is available in our 3,700-space on-site parking garage, accessible from W. Symphony Park Ave between Martin Luther King Blvd and S. Grand Central Pkwy. as well as from Bonneville Avenue (via the Charleston/Bonneville/Alta offramp from I-15 Northbound).</a></p>',
	    label: {
	      text: "On-site Garage",
	      className: "imc-map-label"
	    }
		},
		{
			position : new google.maps.LatLng(36.17320106884886, -115.15107972855887),
			map : map,
			title : '<p style="text-align: center;"><a title="Oversized Parking Lot" href="http://maps.apple.com/?address=Las Vegas, NV 89106" style="color: #000;"><strong>Oversized Parking Lot (FREE self-parking)</strong></a> <br /><br />Oversized Parking is in the far north end of the North Lot. Parking in this lot is available Moday, August 16 through Thursday, August 26 only. Lot is open 6AM -10PM only, the lot is locked 10PM -6AM, with no accessto vehicles during those hours. Access is off Symphony Park Avenue.</a></p>',
	    label: {
	      text: "Oversized Parking",
	      className: "imc-map-label"
	    }
		},
		{
			position : new google.maps.LatLng(36.169788676681115, -115.1558004517913),
			map : map,
			title : '<p style="text-align: center;"><a title="The EXPO Center at World Market Center" href="http://maps.apple.com/?address=435 S. Grand Central Parkway, Las Vegas, NV 89106" style="color: #000;"><strong>The EXPO Center at World Market Center</strong></a> <br /><br />Located in downtown Las Vegas, The Expo at WMCLV offers a beautiful event setting in a vibrant, thriving world-class locale.  With more than 200,000 square feet of exhibit and pre-function space, our facility can easily accommodate tradeshows, corporate events and large scale banquets. For added accessibility, there is an on-site parking garage with more than 3,000 parking spaces.</a></p>',
	    label: {
	      className: "imc-map-label"
	    }
		},
  ];
                /// --
      var current = 0;
      locations.forEach(function(location, index) {
          locations[index].icon = 'https://www.atlanta-apparel.com/-/media/Atlanta-Apparel/Attend/Travel/Parking/parking_dots.png'; // 'https://maps.google.com/mapfiles/kml/shapes/' + 'parking_lot_maps.png';
          if (index == locations.length-1) {
          	locations[index].icon = 'https://www.atlanta-apparel.com/-/media/Atlanta-Apparel/Attend/Travel/Parking/expo.png';
          }
      });

  for (var i = 0, length = locations.length; i < length; i++) {

      var marker = new google.maps.Marker(locations[i]);
      markers.push(marker);
      markers[markers.length - 1].addListener('click', function() {
          if (info) {
              info.close();
          }
          var infowindow = new google.maps.InfoWindow({
              content: this.title
          });
          infowindow.open(map, this);
          // create a reference
          info = infowindow;
      });
  }
	// --------------------- //

}
</script>
<style>
.gmap {
	position: fixed!important;
	top:  0;
	bottom: 0;
	left: 0;
	right:  0;
}
</style>
  </body>
</html>
